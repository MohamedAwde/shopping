<div class="container my-5">
  <div class="row g-5">
    <div class="col-md-5 col-lg-4 order-md-last">
      <h4 class="d-flex justify-content-between align-items-center mb-3">
        <span class="text-primary">Your cart</span>
        <span class="badge bg-primary rounded-pill">{{
          cartItems.length
        }}</span>
      </h4>
      <ul class="list-group mb-3">
        <li
          *ngFor="let product of cartItems"
          class="list-group-item d-flex justify-content-between lh-sm"
        >
          <div>
            <h6 class="my-0">{{ product.name }}</h6>
            <small class="text-muted">{{ product.dec }}</small>
          </div>
          <span class="text-muted">{{ product.price | currency }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
          <span>Total (USD)</span>
          <strong>{{ totalPrice | currency }}</strong>
        </li>
      </ul>
    </div>
    <div class="col-md-7 col-lg-8">
      <h4 class="mb-3">Billing address</h4>
      <form
        [formGroup]="checkoutForm"
        class="needs-validation"
        (ngSubmit)="handleCheckout()"
      >
        <div class="row g-3">
          <div class="col-sm-6">
            <label for="firstName" class="form-label">First name</label>
            <input
              formControlName="firstName"
              class="form-control"
              id="firstName"
              type="text"
              [ngClass]="{
                'is-invalid':
                  fromControl.firstName.touched && fromControl.firstName.invalid
              }"
            />
            <div class="invalid-feedback">Valid first name is required.</div>
          </div>

          <div class="col-sm-6">
            <label for="lastName" class="form-label">Last name</label>
            <input
              formControlName="lastName"
              [ngClass]="{
                'is-invalid':
                  fromControl.lastName.touched && fromControl.lastName.invalid
              }"
              type="text"
              class="form-control"
              id="lastName"
            />
            <div class="invalid-feedback">Valid last name is required.</div>
          </div>

          <div class="col-12">
            <label for="email" class="form-label"
              >Email <span class="text-muted">(Optional)</span></label
            >
            <input
              formControlName="email"
              [ngClass]="{
                'is-invalid':
                  fromControl.email.touched && fromControl.email.invalid
              }"
              type="email"
              class="form-control"
              id="email"
              placeholder="you@example.com"
            />
            <div class="invalid-feedback">
              Please enter a valid email address for shipping updates.
            </div>
          </div>

          <div class="col-12">
            <label for="address" class="form-label">Address</label>
            <input
              formControlName="address"
              [ngClass]="{
                'is-invalid':
                  fromControl.address.touched && fromControl.address.invalid
              }"
              type="text"
              class="form-control"
              id="address"
              placeholder="1234 Main St"
            />
            <div class="invalid-feedback">
              Please enter your shipping address.
            </div>
          </div>

          <div class="col-md-5">
            <label for="country" class="form-label">Country</label>
            <input
              formControlName="country"
              [ngClass]="{
                'is-invalid':
                  fromControl.country.touched && fromControl.country.invalid
              }"
              type="text"
              class="form-control"
              placeholder="USA"
            />
            <div class="invalid-feedback">Please select a valid country.</div>
          </div>

          <div class="col-md-4">
            <label for="state" class="form-label">State</label>
            <input
              formControlName="state"
              [ngClass]="{
                'is-invalid':
                  fromControl.state.touched && fromControl.state.invalid
              }"
              type="text"
              class="form-control"
            />

            <div class="invalid-feedback">Please provide a valid state.</div>
          </div>

          <div class="col-md-3">
            <label for="zip" class="form-label">Zip</label>
            <input
              formControlName="zip"
              [ngClass]="{
                'is-invalid': fromControl.zip.touched && fromControl.zip.invalid
              }"
              type="number"
              class="form-control"
            />

            <div class="invalid-feedback">Zip code required.</div>
          </div>
        </div>

        <hr class="my-4" />

        <h4 class="mb-3">Payment</h4>

        <div class="row gy-3">
          <div class="col-md-6">
            <label for="cc-name" class="form-label">Name on card</label>
            <input
              formControlName="cartName"
              [ngClass]="{
                'is-invalid':
                  fromControl.cartName.touched && fromControl.cartName.invalid
              }"
              type="text"
              class="form-control"
              id="cc-name"
            />
            <div class="invalid-feedback">Name on card is required</div>
            <small class="text-muted">Full name as displayed on card</small>
          </div>

          <div class="col-md-6">
            <label for="cc-number" class="form-label">Credit card number</label>
            <input
              formControlName="cardNumber"
              [ngClass]="{
                'is-invalid':
                  fromControl.cardNumber.touched &&
                  fromControl.cardNumber.invalid
              }"
              type="text"
              class="form-control"
              id="cc-number"
              placeholder=""
              required=""
            />
            <div class="invalid-feedback">Credit card number is required</div>
          </div>

          <div class="col-md-3">
            <label for="cc-expiration" class="form-label">Expiration</label>
            <input
              formControlName="expirationDate"
              [ngClass]="{
                'is-invalid':
                  fromControl.expirationDate.touched &&
                  fromControl.expirationDate.invalid
              }"
              type="text"
              class="form-control"
              id="cc-expiration"
              placeholder=""
              required=""
            />
            <div class="invalid-feedback">Expiration date required</div>
          </div>

          <div class="col-md-3">
            <label for="cc-cvv" class="form-label">CVV</label>
            <input
              formControlName="cvv"
              [ngClass]="{
                'is-invalid': fromControl.cvv.touched && fromControl.cvv.invalid
              }"
              type="number"
              class="form-control"
              id="cc-cvv"
              placeholder=""
              required=""
            />
            <div class="invalid-feedback">Security code required</div>
          </div>
        </div>

        <hr class="my-4" />

        <button
          [disabled]="checkoutForm.invalid"
          class="w-100 btn btn-primary btn-lg"
          type="submit"
        >
          Continue to checkout
        </button>
      </form>
    </div>
  </div>
</div>
